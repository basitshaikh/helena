%h2
  = Helena::QuestionGroup.model_name.human(count: 2)
  = "(#{@question_groups.count})"
- if @question_groups.empty?
  .alert.alert-warning
    = t '.empty'
- else
  %table.table.question_groups
    %thead
      %tr
        %th.position= Helena::QuestionGroup.human_attribute_name(:position)
        %th= Helena::QuestionGroup.human_attribute_name(:title)
        %th
    %tbody
      - @question_groups.each_with_index do |question_group, index|
        %tr[question_group]
          %td.position
            = question_group.position
          %td.title= question_group.title
          %td
            .btn-group.btn-group-sm
              - if question_group.position < Helena::QuestionGroup.maximum_position(@survey)
                = link_to move_down_admin_survey_question_group_path(@survey, question_group), class: 'btn btn-primary',
                                                                                               method: :patch,
                                                                                               title: t('.move_down')  do
                  %i.glyphicon.glyphicon-chevron-down
              - if question_group.position > 1
                = link_to move_up_admin_survey_question_group_path(@survey, question_group), class: 'btn btn-primary',
                                                                                             method: :patch,
                                                                                             title: t('.move_up')  do
                  %i.glyphicon.glyphicon-chevron-up

              = link_to t('.edit'), edit_admin_survey_question_group_path(@survey, question_group), class: 'btn btn-primary'
              = link_to t('.delete'), admin_survey_question_group_path(@survey, question_group), method: :delete, class: 'btn btn-danger', data: { confirm: t('shared.delete_question') }

%br
%a.btn.btn-success{ href:  new_admin_survey_question_group_path}
  = t '.add'
